# Week6 20200514

## 有限状态机处理字符串

### 有限状态机


### 使用有限状态机来处理字符串

* 在一个字符串中，找到字符"a";

```
正则底层由状态机实现的匹配
```

* 在一个字符串中，找到字符"ab";

### JS中的有限状态机


```
1.为什么正规的状态机不推荐直接写 state(c) ?
  state(c)无法实现二重合并

2.构建AST抽象语法树 是不是也可以用状态机

3.kmp应该比状态机效率更高吧，毕竟有坏字符和好字符

4.Promise 是状态机吗?
  不是

* 报文是IP层的东西
```

* PS 作业：将状态机


### ToyBrowser

```

HTML Standard 12.2.5 Tokenization
规定了80个状态
其中跟HTML标签解析相关的状态有不到20个

```

* 第三步：解析标签 

* 第四步：创建元素
```
在状态机中，除了状态迁移，还需要加入业务逻辑

在标签结束的时候需要

```

* 第五步：标签属性处理

```
· 属性值氛围单引号、双引号、无引号三种写法，因此需要较多的状态处理
· 处理属性的方式跟标签类似
· 属性结束时，我们把属性加到标签Token上
```

* 第六步

* 第七步：处理文本节点

```
1.什么时候会遇到c=="EOF"？
C++中，EOF是一个宏定义，为-1
EOF在JS中并不是一个字符

2.为什么浏览器要限制http并发个数？
http并发个数跟带宽和速度有关，带宽极高且速度极慢的时候才需要高并发


3.输入的HTML内有EOF这个字符吗？
文本天然有一个结束状态EOF，EOF是一个计算机术语，为End Of File的缩写，在操作系统中表示资料源无更多的资料可读取。资料源通常称为档案或串流。通常在文本的最后存在此字符表示资料结束。

```

作业：跟上本节内容并补全ToyBrower相关代码